var e;e=JSON.parse('{"basepath":"?","interproURL":"https://www.ebi.ac.uk/interpro","ebiSearchURL":"https://www.ebi.ac.uk/ebisearch/ws/rest/interpro7","test":true}');const t=/pf\d{5}(\.\d+)?$/i,a=/cl\d{4}$/i,r=/[a-zA-Z\d]{4}$/i,s=/[OPQ][0-9][A-Z0-9]{3}[0-9]|[A-NR-Z][0-9]([A-Z][A-Z0-9]{2}[0-9]){1,2}$/i,n=async(t,a)=>{let r=null,s=null;switch(t){case"entry":r=`${ebiSearchURL}?query=(source_database:%22pfam%22)%20AND%20(short_name:%22${a}%22)&format=json`,s=`${e.interproURL}/entry/pfam/`;break;case"protein":r=`${e.interproURL}/wwwapi/protein/uniprot/${a}`,s=`${e.interproURL}/wwwapi/protein/uniprot/`;break;case"clan":r=`${e.interproURL}/wwwapi/set/pfam?search=${a}`,s=`${e.interproURL}/set/pfam/`}if(null===r)return null;const n=await fetch(r);if(n.ok){const e=await n.json();if((e?.results?.length||0)>0)return`${s}${e.results[0].metadata.accession}`;if(e?.metadata?.accession)return`${s}${e.metadata.accession}`;if(e?.entries?.[0]?.id)return`${s}${e.entries[0].id}`}return null};var i=async i=>{let o=null;switch(i[0].toLowerCase()){case"family":t.test(i?.[1])?o=`${e.interproURL}/entry/pfam/${i[1]?.split(".")[0]}`:"browse"===i?.[1]?o=`${e.interproURL}/entry/pfam/`:i?.[1].length>0&&(o=await n("entry",i[1]));break;case"protein":o=s.test(i[1])?`${e.interproURL}/protein/uniprot/${i[1]}`:await n("protein",i[1]);break;case"clan":a.test(i[1])?o=`${e.interproURL}/set/pfam/${i[1]}`:"browse"===i?.[1]?o=`${e.interproURL}/set/pfam/`:i?.[1].length>0&&(o=await n("clan",i[1]));break;case"proteome":!i?.[1]&&url.searchParams.get("taxId")?o=`${e.interproURL}/taxonomy/uniprot/${url.searchParams.get("taxId")}/entry/pfam/`:"browse"===i?.[1]&&(o=`${e.interproURL}/taxonomy/uniprot/entry/pfam/`);break;case"structure":r.test(i[1])&&(o=`${e.interproURL}/structure/pdb/${i[1]}`);break;case"browse":o=`${e.interproURL}/entry/pfam`;break;case"search":switch(url.hash){case"#tabview=tab0":case"#searchSequenceBlock":o=`${e.interproURL}/search/sequence/`;break;case"#tabview=tab2":case"#searchKeywordBlock":o=`${e.interproURL}/search/text/`;break;case"#tabview=tab3":case"#searchDomainBlock":o=`${e.interproURL}/search/ida/`;break;case"#tabview=tab":case"#searchTaxBlock":o=`${e.interproURL}/taxonomy/uniprot/entry/pfam/`}}return o};(async()=>{document.querySelector(".redirect").classList.add("show");const t=new URL(document.location.href);let a=t.pathname;t.pathname.startsWith(e.basepath)?a=t.pathname.slice(e.basepath.length):"?"===e.basepath?a=t.search.slice(2):console.error("The pathname doesn't start with the given base path");const r=a.split("/");let s=await i(r);s||(s=r?.[1]?`${e.interproURL}/search/text/${r[1]}`:e.interproURL),e.test?console.log(s):window.location.replace(s)})();
//# sourceMappingURL=index.cf769c7d.js.map
