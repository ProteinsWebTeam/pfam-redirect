var e;e=JSON.parse('{"basepath":"?","interproURL":"https://www.ebi.ac.uk/interpro","legacyURL":"http://pfamdev-legacy.xfam.org","ebiSearchURL":"https://www.ebi.ac.uk/ebisearch/ws/rest/interpro7","test":true}');const t=/pf\d{5}(\.\d+)?$/i,r=/cl\d{4}$/i,a=/[a-zA-Z\d]{4}$/i,n=/[OPQ][0-9][A-Z0-9]{3}[0-9]|[A-NR-Z][0-9]([A-Z][A-Z0-9]{2}[0-9]){1,2}$/i,s=async(t,r)=>{let a=null,n=null;switch(t){case"entry":a=`${ebiSearchURL}?query=(source_database:%22pfam%22)%20AND%20(short_name:%22${r}%22)&format=json`,n=`${e.interproURL}/entry/pfam/`;break;case"protein":a=`${e.interproURL}/api/protein/uniprot/${r}`,n=`${e.interproURL}/protein/uniprot/`;break;case"clan":a=`${e.interproURL}/api/set/pfam?search=${r}`,n=`${e.interproURL}/set/pfam/`}if(null===a)return null;const s=await fetch(a);if(s.ok){const e=await s.json();if((e?.results?.length||0)>0)return`${n}${e.results[0].metadata.accession}`;if(e?.metadata?.accession)return`${n}${e.metadata.accession}`;if(e?.entries?.[0]?.id)return`${n}${e.entries[0].id}`}return null};var o=o=>{let c=null;switch(o[0].toLowerCase()){case"family":t.test(o?.[1])?c=`${e.interproURL}/entry/pfam/${o[1]?.split(".")[0]}`:"browse"===o?.[1]?c=`${e.interproURL}/entry/pfam/`:o?.[1].length>0&&(c=s("entry",o[1]));break;case"protein":c=n.test(o[1])?`${e.interproURL}/protein/uniprot/${o[1]}`:s("protein",o[1]);break;case"clan":r.test(o[1])?c=`${e.interproURL}/set/pfam/${o[1]}`:"browse"===o?.[1]?c=`${e.interproURL}/set/pfam/`:o?.[1].length>0&&(c=s("clan",o[1]));break;case"proteome":!o?.[1]&&url.searchParams.get("taxId")?c=`${e.interproURL}/taxonomy/uniprot/${url.searchParams.get("taxId")}/entry/pfam/`:"browse"===o?.[1]&&(c=`${e.interproURL}/taxonomy/uniprot/entry/pfam/`);break;case"structure":a.test(o[1])&&(c=`${e.interproURL}/structure/pdb/${o[1]}`);break;case"browse":c=`${e.interproURL}/entry/pfam`;break;case"search":switch(url.hash){case"#tabview=tab0":case"#searchSequenceBlock":c=`${e.interproURL}/search/sequence/`;break;case"#tabview=tab2":case"#searchKeywordBlock":c=`${e.interproURL}/search/text/`;break;case"#tabview=tab3":case"#searchDomainBlock":c=`${e.interproURL}/search/ida/`;break;case"#tabview=tab":case"#searchTaxBlock":c=`${e.interproURL}/taxonomy/uniprot/entry/pfam/`}}return c};const c=new URL(document.location.href);let i=c.pathname;c.pathname.startsWith(e.basepath)?i=c.pathname.slice(e.basepath.length):"?"===e.basepath?i=c.search.slice(2):console.error("the pathname doesn't start with the given base path");const p=i.split("/");let l=o(p);if(l){document.querySelector(".redirect").classList.add("show");let t=5,r=!0;const a=setInterval((()=>{r&&(t=Math.max(t-1,0),document.querySelectorAll(".sec-left").forEach((e=>e.innerHTML=t)),0===t&&(e.test?console.log(l):window.location.replace(l),clearInterval(a)))}),1e3),n=t=>{null===t&&(t=p?.[1]?`${e.interproURL}/search/text/${p[1]}`:e.interproURL);const r=document.getElementById("linkToInterPro");r.setAttribute("href",t),r.innerHTML=t,l=t},s=document.getElementById("countdown");s.addEventListener("click",(()=>{r=!r,r?s.classList.remove("paused"):s.classList.add("paused")})),"function"==typeof l?.then?l.then((e=>n(e))):n(l);const o=`${e.legacyURL}/${i}${c.search??""}`,h=document.getElementById("linkToLegacy");h.setAttribute("href",o),h.innerHTML=o}else document.querySelector(".fake-home").classList.add("show");
//# sourceMappingURL=index.239451a2.js.map
