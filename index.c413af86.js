var e;e=JSON.parse('{"basepath":"?","interproURL":"https://www.ebi.ac.uk/interpro","legacyURL":"http://pfamdev-legacy.xfam.org","ebiSearchURL":"https://www.ebi.ac.uk/ebisearch/ws/rest/interpro7","test":true}');const t=/pf\d{5}(\.\d+)?$/i,r=/cl\d{4}$/i,a=/[a-zA-Z\d]{4}$/i,n=/[OPQ][0-9][A-Z0-9]{3}[0-9]|[A-NR-Z][0-9]([A-Z][A-Z0-9]{2}[0-9]){1,2}$/i;let s=9,o=!0;const c=setInterval((()=>{o&&(s=Math.max(s-1,0),document.querySelectorAll(".sec-left").forEach((e=>e.innerHTML=s)),0===s&&(e.test?console.log(p):window.location.replace(p),clearInterval(c)))}),1e3),i=async(t,r)=>{let a=null,n=null;switch(t){case"entry":a=`${e.ebiSearchURL}?query=(source_database:%22pfam%22)%20AND%20(short_name:%22${r}%22)&format=json`,n=`${e.interproURL}/entry/pfam/`;break;case"protein":a=`${e.interproURL}/api/protein/uniprot/${r}`,n=`${e.interproURL}/protein/uniprot/`;break;case"clan":a=`${e.interproURL}/api/set/pfam?search=${r}`,n=`${e.interproURL}/set/pfam/`}if(null===a)return null;const s=await fetch(a);if(s.ok){const e=await s.json();if((e?.results?.length||0)>0)return`${n}${e.results[0].metadata.accession}`;if(e?.metadata?.accession)return`${n}${e.metadata.accession}`;if(e?.entries?.[0]?.id)return`${n}${e.entries[0].id}`}return null};let p=null;const l=t=>{null===t&&(t=$?.[1]?`${e.interproURL}/search/text/${$[1]}`:e.interproURL);const r=document.getElementById("linkToInterPro");r.setAttribute("href",t),r.innerHTML=t,p=t},h=new URL(document.location.href);let u=h.pathname;h.pathname.startsWith(e.basepath)?u=h.pathname.slice(e.basepath.length):"?"===e.basepath?u=h.search.slice(2):console.error("the pathname doesn't start with the given base path");const $=u.split("/");switch($[0].toLowerCase()){case"family":t.test($?.[1])?p=`${e.interproURL}/entry/pfam/${$[1]?.split(".")[0]}`:"browse"===$?.[1]?p=`${e.interproURL}/entry/pfam/`:$?.[1].length>0&&(p=i("entry",$[1]));break;case"protein":p=n.test($[1])?`${e.interproURL}/protein/uniprot/${$[1]}`:i("protein",$[1]);break;case"clan":r.test($[1])?p=`${e.interproURL}/set/pfam/${$[1]}`:"browse"===$?.[1]?p=`${e.interproURL}/set/pfam/`:$?.[1].length>0&&(p=i("clan",$[1]));break;case"proteome":!$?.[1]&&h.searchParams.get("taxId")?p=`${e.interproURL}/taxonomy/uniprot/${h.searchParams.get("taxId")}/entry/pfam/`:"browse"===$?.[1]&&(p=`${e.interproURL}/taxonomy/uniprot/entry/pfam/`);break;case"structure":a.test($[1])&&(p=`${e.interproURL}/structure/pdb/${$[1]}`);break;case"browse":p=`${e.interproURL}/entry/pfam`;break;case"search":switch(h.hash){case"#tabview=tab0":case"#searchSequenceBlock":p=`${e.interproURL}/search/sequence/`;break;case"#tabview=tab2":case"#searchKeywordBlock":p=`${e.interproURL}/search/text/`;break;case"#tabview=tab3":case"#searchDomainBlock":p=`${e.interproURL}/search/ida/`;break;case"#tabview=tab":case"#searchTaxBlock":p=`${e.interproURL}/taxonomy/uniprot/entry/pfam/`}}const m=document.getElementById("countdown");m.addEventListener("click",(()=>{o=!o,o?m.classList.remove("paused"):m.classList.add("paused")})),"function"==typeof p?.then?p.then((e=>l(e))):l(p);const b=`${e.legacyURL}/${u}${h.search??""}`,L=document.getElementById("linkToLegacy");L.setAttribute("href",b),L.innerHTML=b;
//# sourceMappingURL=index.c413af86.js.map
