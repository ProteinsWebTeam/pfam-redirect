{"mappings":"AAAA,MAGMA,EAAkB,WAClBC,EAAkB,WAClBC,EAAiB,iBACjBC,EAAqB,wEAG3B,IAAIC,EAAU,EACd,MAAMC,EAAYC,aAAY,KAC5BF,EAAUG,KAAKC,IAAIJ,EAAU,EAAG,GAChCK,SACGC,iBAAiB,aACjBC,SAASC,GAAaA,EAAQC,UAAYT,IAC7B,IAAZA,IAEFU,QAAQC,IAAIC,GACZC,cAAcZ,G,GAEf,KAEGa,EAAM,IAAIC,IAAIV,SAASW,SAASC,MAChCC,EAAWJ,EAAIK,SAASC,MAAM,KAEpC,IAAIR,EAAS,KACb,OAAQM,EAAS,GAAGG,eAClB,IAAK,SACCzB,EAAmB0B,KAAKJ,EAAS,MACnCN,EAAS,6CAA6BM,EAAS,MAEjD,MACF,IAAK,UACCnB,EAAsBuB,KAAKJ,EAAS,MACtCN,EAAS,kDAAkCM,EAAS,MAEtD,MACF,IAAK,OACCrB,EAAmByB,KAAKJ,EAAS,MACnCN,EAAS,2CAA2BM,EAAS,MAE/C,MACF,IAAK,YACCpB,EAAkBwB,KAAKJ,EAAS,MAClCN,EAAS,gDAAgCM,EAAS,MAEpD,MACF,IAAK,SACH,OAAQJ,EAAIS,MACV,IAAK,gBACL,IAAK,qBACHX,EAAS,kDACT,MACF,IAAK,gBACL,IAAK,sBACHA,EAAS,8CACT,MACF,IAAK,gBACL,IAAK,qBACHA,EAAS,6CACT,MACF,IAAK,eACL,IAAK,kBACHA,EAAS,+DAKF,OAAXA,IACFA,EAASM,IAAW,GAChB,8CAA8BA,EAAS,KAtEzB,kCA0EpB,MAAMM,EAAWnB,SAASoB,eAAe,kBACzCD,EAASE,aAAa,OAAQd,GAC9BY,EAASf,UAAYG,EAErB,MAAMe,EAAe,+BAAeb,EAAIK,WAClCS,EAAavB,SAASoB,eAAe,gBAC3CG,EAAWF,aAAa,OAAQC,GAChCC,EAAWnB,UAAYkB","sources":["src/index.js"],"sourcesContent":["const interproURL = \"https://www.ebi.ac.uk/interpro\";\nconst legacyURL = \"https://legacy.pfam.xfam.org\";\n\nconst pfamAccessionRegex = /pf\\d{5}/i;\nconst clanAccessionRegex = /cl\\d{4}/i;\nconst pdbAccessionRegex = /[a-zA-Z\\d]{4}/i;\nconst uniprotAccessionRegex =\n  /[OPQ][0-9][A-Z0-9]{3}[0-9]|[A-NR-Z][0-9]([A-Z][A-Z0-9]{2}[0-9]){1,2}/i;\n\nlet seqLeft = 9;\nconst counterID = setInterval(() => {\n  seqLeft = Math.max(seqLeft - 1, 0);\n  document\n    .querySelectorAll(\".sec-left\")\n    .forEach((element) => (element.innerHTML = seqLeft));\n  if (seqLeft === 0) {\n    // window.location.replace(newURL);\n    console.log(newURL);\n    clearInterval(counterID);\n  }\n}, 1000);\n\nconst url = new URL(document.location.href);\nconst urlParts = url.pathname.split(\"/\");\n\nlet newURL = null;\nswitch (urlParts[1].toLowerCase()) {\n  case \"family\":\n    if (pfamAccessionRegex.test(urlParts[2])) {\n      newURL = `${interproURL}/entry/pfam/${urlParts[2]}`;\n    }\n    break;\n  case \"protein\":\n    if (uniprotAccessionRegex.test(urlParts[2])) {\n      newURL = `${interproURL}/protein/uniprot/${urlParts[2]}`;\n    }\n    break;\n  case \"clan\":\n    if (clanAccessionRegex.test(urlParts[2])) {\n      newURL = `${interproURL}/set/pfam/${urlParts[2]}`;\n    }\n    break;\n  case \"structure\":\n    if (pdbAccessionRegex.test(urlParts[2])) {\n      newURL = `${interproURL}/structure/pdb/${urlParts[2]}`;\n    }\n    break;\n  case \"search\":\n    switch (url.hash) {\n      case \"#tabview=tab0\":\n      case \"#searchDomainBlock\":\n        newURL = `${interproURL}/search/sequence/`;\n        break;\n      case \"#tabview=tab2\":\n      case \"#searchKeywordBlock\":\n        newURL = `${interproURL}/search/text/`;\n        break;\n      case \"#tabview=tab3\":\n      case \"#searchDomainBlock\":\n        newURL = `${interproURL}/search/ida/`;\n        break;\n      case \"#tabview=tab\":\n      case \"#searchTaxBlock\":\n        newURL = `${interproURL}/taxonomy/uniprot/entry/pfam/`;\n        break;\n    }\n}\n\nif (newURL === null) {\n  newURL = urlParts?.[2]\n    ? `${interproURL}/search/text/${urlParts[2]}`\n    : interproURL;\n}\n\nconst iproLink = document.getElementById(\"linkToInterPro\");\niproLink.setAttribute(\"href\", newURL);\niproLink.innerHTML = newURL;\n\nconst legacyNewURL = `${legacyURL}${url.pathname}`;\nconst legacyLink = document.getElementById(\"linkToLegacy\");\nlegacyLink.setAttribute(\"href\", legacyNewURL);\nlegacyLink.innerHTML = legacyNewURL;\n"],"names":["$35da740d59af89ba$var$pfamAccessionRegex","$35da740d59af89ba$var$clanAccessionRegex","$35da740d59af89ba$var$pdbAccessionRegex","$35da740d59af89ba$var$uniprotAccessionRegex","$35da740d59af89ba$var$seqLeft","$35da740d59af89ba$var$counterID","setInterval","Math","max","document","querySelectorAll","forEach","element","innerHTML","console","log","$35da740d59af89ba$var$newURL","clearInterval","$35da740d59af89ba$var$url","URL","location","href","$35da740d59af89ba$var$urlParts","pathname","split","toLowerCase","test","hash","$35da740d59af89ba$var$iproLink","getElementById","setAttribute","$35da740d59af89ba$var$legacyNewURL","$35da740d59af89ba$var$legacyLink"],"version":3,"file":"index.33df3df9.js.map"}