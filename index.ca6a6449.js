var e;e=JSON.parse('{"basepath":"?","interproURL":"https://www.ebi.ac.uk/interpro","legacyURL":"http://pfamdev-legacy.xfam.org","ebiSearchURL":"https://www.ebi.ac.uk/ebisearch/ws/rest/interpro7","test":true}');const t=/pf\d{5}$/i,r=/cl\d{4}$/i,a=/[a-zA-Z\d]{4}$/i,n=/[OPQ][0-9][A-Z0-9]{3}[0-9]|[A-NR-Z][0-9]([A-Z][A-Z0-9]{2}[0-9]){1,2}$/i;let s=9,o=!0;const c=setInterval((()=>{o&&(s=Math.max(s-1,0),document.querySelectorAll(".sec-left").forEach((e=>e.innerHTML=s)),0===s&&(e.test?console.log($):window.location.replace($),clearInterval(c)))}),1e3),i=async(t,r)=>{let a=null,n=null;switch(t){case"entry":a=`${e.ebiSearchURL}?query=(source_database:%22pfam%22)%20AND%20(short_name:%22${r}%22)&format=json`,n=`${e.interproURL}/entry/pfam/`;break;case"protein":a=`${e.interproURL}/api/protein/uniprot/${r}`,n=`${e.interproURL}/protein/uniprot/`;break;case"clan":a=`${e.interproURL}/api/set/pfam?search=${r}`,n=`${e.interproURL}/set/pfam/`}if(null===a)return null;const s=await fetch(a);if(s.ok){const e=await s.json();if((e?.results?.length||0)>0)return`${n}${e.results[0].metadata.accession}`;if(e?.metadata?.accession)return`${n}${e.metadata.accession}`;if(e?.entries?.[0]?.id)return`${n}${e.entries[0].id}`}return null},p=t=>{null===t&&(t=u?.[1]?`${e.interproURL}/search/text/${u[1]}`:e.interproURL);const r=document.getElementById("linkToInterPro");r.setAttribute("href",t),r.innerHTML=t},l=new URL(document.location.href);let h=l.pathname;l.pathname.startsWith(e.basepath)?h=l.pathname.slice(e.basepath.length):"?"===e.basepath?h=l.search.slice(2):console.error("the pathname doesn't start with the given base path");const u=h.split("/");let $=null;switch(u[0].toLowerCase()){case"family":t.test(u?.[1])?$=`${e.interproURL}/entry/pfam/${u[1]}`:"browse"===u?.[1]?$=`${e.interproURL}/entry/pfam/`:u?.[1].length>0&&($=i("entry",u[1]));break;case"protein":$=n.test(u[1])?`${e.interproURL}/protein/uniprot/${u[1]}`:i("protein",u[1]);break;case"clan":r.test(u[1])?$=`${e.interproURL}/set/pfam/${u[1]}`:"browse"===u?.[1]?$=`${e.interproURL}/set/pfam/`:u?.[1].length>0&&($=i("clan",u[1]));break;case"proteome":!u?.[1]&&l.searchParams.get("taxId")?$=`${e.interproURL}/taxonomy/uniprot/${l.searchParams.get("taxId")}/entry/pfam/`:"browse"===u?.[1]&&($=`${e.interproURL}/taxonomy/uniprot/entry/pfam/`);break;case"structure":a.test(u[1])&&($=`${e.interproURL}/structure/pdb/${u[1]}`);break;case"browse":$=`${e.interproURL}/entry/pfam`;break;case"search":switch(l.hash){case"#tabview=tab0":case"#searchSequenceBlock":$=`${e.interproURL}/search/sequence/`;break;case"#tabview=tab2":case"#searchKeywordBlock":$=`${e.interproURL}/search/text/`;break;case"#tabview=tab3":case"#searchDomainBlock":$=`${e.interproURL}/search/ida/`;break;case"#tabview=tab":case"#searchTaxBlock":$=`${e.interproURL}/taxonomy/uniprot/entry/pfam/`}}const m=document.getElementById("countdown");m.addEventListener("click",(()=>{o=!o,o?m.classList.remove("paused"):m.classList.add("paused")})),"function"==typeof $?.then?$.then((e=>p(e))):p($);const b=`${e.legacyURL}/${h}${l.search??""}`,L=document.getElementById("linkToLegacy");L.setAttribute("href",b),L.innerHTML=b;
//# sourceMappingURL=index.ca6a6449.js.map
